## 目的
<!-- 目的(〜を知りたい/〜を実装したい) -->
AWS用語確認、演習の復習
## 成果
<!-- 成果(できたこと/できなかったこと) -->
- [x] 言語大乱闘の記事掲載
- [x] AWS用語確認、演習の復習
- [x] Java実装
#### 所要時間
- ◯m
  - 60m(9:00-10:00): 記事（言語大乱闘参加レポート）
  - 240m(10:00-14:00): AWS/用語確認(~264p)
  - 210m(14:30-18:00): Java, spring/環境構築
  - 60m(21:00-23:00): Java, spring, docker/環境構築

#### 使用資料
<!-- 使用資料(教材/書籍/ワークシート/Youtube) -->

## 詳細
<!-- 詳細(キーワード/プロセス//具体例を挙げる/今回の課題解決を今後に繋げられる形で記録) -->
### Eclipseでjava, spring bootの環境構築
- Eclipseインストール
- [参考](https://medium-company.com/spring-boot%e7%92%b0%e5%a2%83%e6%a7%8b%e7%af%89/)にspring bootの環境作成
  - mysqlの接続はdockerで実施するため、「6. 作成されたSpring Bootプロジェクトの「build.gradle」の内容確認」まで実施
- [参考/公式spring](https://spring.pleiades.io/guides/gs/spring-boot-docker)
  - 「Spring Webを生成する」は、Webアプリの機能を持つプロジェクトを作ること
  - 「./gradlew build」は、そのプロジェクトをコンパイル+ビルドしてJARファイルを作ること
  - JARファイルとは実行可能な状態のファイルを指す（rubyはコンパイル作業がないため新鮮）
  - 「build.gradle」のあるディレクトリで`./gradlew bootJar`を実行
  - /build/libsは以下にjarファイル作成される
  - Dockerfile作成
    ```
    FROM openjdk:17-jdk-slim
    ARG JAR_FILE=build/libs/*.jar
    COPY ${JAR_FILE} app.jar
    ENTRYPOINT ["java","-jar","/app.jar"]
    ```
  - ビルドする`docker build -t yu-ka/pra0805 .`
  - docker-compose.yamlを作成しmysql接続
    - [参考/Public Key Retrieval is not allowedエラー解決記事](https://qiita.com/yuuuka/items/2f54b07a0d8489574660)
      ```
      version: '3.8'
      services:
        app:
          image: yu-ka/pra0805
          ports:
            - "8083:8080"
          depends_on:
            - db
          environment:
            SPRING_DATASOURCE_URL: jdbc:mysql://db:3306/your_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
            SPRING_DATASOURCE_USERNAME: root
            SPRING_DATASOURCE_PASSWORD: password

        db:
          image: mysql:8.0
          environment:
            MYSQL_ROOT_PASSWORD: password
            MYSQL_DATABASE: your_db
          ports:
            - "3306:3306"
          volumes:
            - db_data:/var/lib/mysql

      volumes:
        db_data:
      ```
  - `docker compose up`

## 考察
<!-- 考察(今後の展望/) -->
とりあえずdockerでmysqlとアプリをコンテナ起動かつ、IDEでもできるように環境は完成